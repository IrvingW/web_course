<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册界面</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <style>
        body{
            background:url("sign_up_bg.jpg") ;
            background-size: cover;
            background-repeat: no-repeat;
            backgroud-position:center;
            z-index: -1;
        }
        .row{
            padding-bottom: 15px;
        }
        #sign_up{
            max-width: 800px;
            padding: 20px 100px 20px 50px;
            margin-top:50px;
            background:transparent;
            background-color:rgba(255,255,255,0.9);
            border-radius: 5px;
        }
        button{
            marign-bottom: 20px;
            float:right;
        }
        span .required{
            color: red;
            font-size: 150%;
        }
    </style>
</head>
<body>
<form role="form" class="form-horizontal">
    <div class="container" id="sign_up">

        <h1 style="padding-bottom: 30px;text-align:center">欢 迎 注 册</h1>
        <div class="form-group row " id="user_name">
            <label class="col-md-2 control-label">用户名<span class="required"> *</span></label>
            <div  class="col-md-10"  >
                <input class="form-control"  type="text" placeholder="用户名" autofocus="autofocus" maxlength="20" onchange="done('user_name')" >

            </div>
            <span class="icon"></span>
        </div> <!-- user name-->

        <div class="form-group row"  id="email" >
            <label class="col-md-2 control-label">邮箱<span class="required"> *</span></label>
            <div  class="col-md-10" >
                <input class="form-control" id="e-mail" type="email" placeholder="请输入邮箱" autofocus="autofocus" maxlength="30" onchange="email_check()">
            </div>
            <span class="icon"></span>
        </div> <!-- email-->

        <div class="form-group row" id="password">
            <label class="col-md-2 control-label">密码<span class="required"> *</span></label>
            <div  class="col-md-10">
                <input class="form-control"  type="password" placeholder="请输入密码" autofocus="autofocus" maxlength="20"  onchange="done('password')">

            </div>
            <span class="icon"></span>
        </div> <!-- password-->
        <div class="form-group row" id="password2">
            <label class="col-md-2 control-label">确认密码<span class="required"> *</span></label>
            <div  class="col-md-10">
                <input class="form-control"  type="password" placeholder="请再次输入密码" autofocus="autofocus" maxlength="20"  onchange="check_password()">

            </div>
            <span class="icon"></span>
        </div> <!-- ensure password-->

        <div class="form-group row"  id="phone">
            <label class="col-md-2 control-label">手机</label>
            <div  class="col-md-10">
                <input class="form-control"  type="text" placeholder="请输入手机号" autofocus="autofocus" maxlength="100" onchange="done('phone')">

            </div>
            <span class="icon"></span>
        </div> <!-- phone-->

        <div class="form-group " style="padding-bottom: 30px" id="address">
            <label class="col-md-2 control-label">地址</label>
            <div  class="col-md-10">
                <textarea class="form-control"  rows="3" onchange="done('address')">
                </textarea>

            </div>
            <span class="icon"></span>
        </div><!-- address-->

        <div>
            <a href="#" style="margin-left: 120px ">用户协议</a>
            <button class="btn btn-success" onclick="submit_check()" >立即注册</button>
        </div>

    </div>

</form>

</body>
<script language="JavaScript" type="text/javascript">
    function email_check() {
        var reg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
        var str = document.getElementById("e-mail").value;
        if(reg.test(str)){
            done("email");
        }else{
            alert("邮箱格式错误");
            var form = document.getElementById("email");
            form.setAttribute("class" ," form-group row has-warning has-feedback");
            var graph = form.lastElementChild;
            graph.setAttribute("class","glyphicon glyphicon-warning-sign form-control-feedback");
        }
    }

    function check_password() {
        var form = document.getElementById("password");
        var form2 = document.getElementById("password2");
        var p1 = form.firstElementChild.nextElementSibling.firstElementChild.value;
        var p2 = form2.firstElementChild.nextElementSibling.firstElementChild.value;

        var graph = form2.lastElementChild;


        if(p1 == p2){
            form2.setAttribute("class" ," form-group row has-success has-feedback");
            graph.setAttribute("class","glyphicon glyphicon-ok form-control-feedback");
        }
        else{
            form2.setAttribute("class" ," form-group row has-error has-feedback");
            graph.setAttribute("class","glyphicon glyphicon-remove form-control-feedback");
            alert("  输入密码不一致——请重新输入");
        }

    }

    function done(id) {
        var form = document.getElementById(id);
        form.setAttribute("class" ," form-group row has-success has-feedback");
        var graph = form.lastElementChild;
        graph.setAttribute("class","glyphicon glyphicon-ok form-control-feedback");

    }

    function submit_check() {
        var form = document.getElementById("user_name");
        var input = form.firstElementChild.nextElementSibling.firstElementChild.value;
        if(input == ""){
            alert("用户名不能为空！");
            return;
        }

        var form = document.getElementById("email");
        var input = form.firstElementChild.nextElementSibling.firstElementChild.value;
        if(input == ""){
            alert("邮箱不能为空！");
            return;
        }

        var form = document.getElementById("password");
        var input = form.firstElementChild.nextElementSibling.firstElementChild.value;
        if(input == ""){
            alert("密码不能为空！");
            return;
        }

        var form = document.getElementById("password2");
        var input = form.firstElementChild.nextElementSibling.firstElementChild.value;
        if(input == ""){
            alert("请确认密码！")
            return;
        }
	return;
            <!-- call submit function from here-->

    }
</script>  <!--check if the two password is the same-->
</html>